type: collection.insomnia.rest/5.0
name: Doc.i API
meta:
  id: wrk_5d10dac41c4e41319f567f8ccdee9adb
  created: 1755484947826
  modified: 1755484947826
  description: ''
collection:
  - name: Auth
    meta:
      id: fld_17f192a327b34d34af04d0777744eed0
      created: 1640995200000
      modified: 1756342359311
      sortKey: -1640995200000
      description: ''
    children:
      - url: '{{ _.base_url }}/auth/login'
        name: Login
        meta:
          id: req_67ae9068b3ff4768add96ea5f645537f
          created: 1640995200000
          modified: 1756342357763
          isPrivate: false
          description: ''
          sortKey: -1640995200000
        method: POST
        body:
          mimeType: application/json
          text: |-
            {
              "email": "admin@doc-i.com",
              "password": "ZG9jLWktcGFzc3dvcmQ="
            }
        headers:
          - name: Content-Type
            value: application/json
        scripts:
          afterResponse: >-
            // Script para Insomnia - Pegar Access Token e Setar Environment
            Variable

            // Cole este código na aba "Tests" da sua requisição de autenticação


            const data = insomnia.response.json();


            // Pega o access token da resposta

            const accessToken = data.access_token || data.token ||
            data.accessToken;


            if (accessToken) {
              // Define a variável de ambiente
              insomnia.environment.set('access_token', accessToken);
              console.log('Access token definido com sucesso!');
            } else {
              console.log('Access token não encontrado na resposta');
            }
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
  - name: Users
    meta:
      id: fld_1c761dfc5b60457dbb2ee37740f407c5
      created: 1640995200000
      modified: 1640995200000
      sortKey: -1640995100000
      description: ''
    children:
      - url: '{{ _.base_url }}/users'
        name: Create User
        meta:
          id: req_51eb4f4bb56b43db8daf62030dfe3be6
          created: 1640995200000
          modified: 1640995200000
          isPrivate: false
          description: ''
          sortKey: -1640995200000
        method: POST
        body:
          mimeType: application/json
          text: |-
            {
              "name": "Nathália",
              "email": "nathi-borges@hotmail.com",
              "password": "nathhalia",
              "code": "2"
            }
        headers:
          - name: Content-Type
            value: application/json
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: '{{ _.base_url }}/users'
        name: List Users
        meta:
          id: req_ea19ad7cbcbb4892bb4ea552fe11c4fd
          created: 1640995200000
          modified: 1640995200000
          isPrivate: false
          description: ''
          sortKey: -1640995100000
        method: GET
        authentication:
          type: bearer
          token: '{{ _.access_token }}'
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: '{{ _.base_url }}/users/profile'
        name: Get Profile
        meta:
          id: req_f30a47671d4145598adf863f1e1a0a2b
          created: 1640995200000
          modified: 1640995200000
          isPrivate: false
          description: ''
          sortKey: -1640995000000
        method: GET
        authentication:
          type: bearer
          token: '{{ _.access_token }}'
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
  - name: Admin
    meta:
      id: fld_c74b9a75d356433cb7e974494214be35
      created: 1640995200000
      modified: 1640995200000
      sortKey: -1640994700000
      description: ''
    children:
      - url: '{{ _.base_url }}/admin/codes/available'
        name: Get Available Codes
        meta:
          id: req_1096cc8b87124fb5a97d5cbae4166a9e
          created: 1640995200000
          modified: 1640995200000
          isPrivate: false
          description: ''
          sortKey: -1640995000000
        method: GET
        authentication:
          type: bearer
          token: '{{ _.access_token }}'
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: '{{ _.base_url }}/admin/codes'
        name: Get All Codes
        meta:
          id: req_9cdaf3db2bf748f9b99ef09c7ff010b3
          created: 1640995200000
          modified: 1640995200000
          isPrivate: false
          description: ''
          sortKey: -1640995200000
        method: GET
        authentication:
          type: bearer
          token: '{{ _.access_token }}'
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: '{{ _.base_url }}/admin/codes'
        name: Create Code
        meta:
          id: req_caba334c4bec4a4f94e0c056093aca9c
          created: 1640995200000
          modified: 1640995200000
          isPrivate: false
          description: ''
          sortKey: -1640995100000
        method: POST
        authentication:
          type: bearer
          token: '{{ _.access_token }}'
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
  - name: Documents
    meta:
      id: fld_ca2f895cee604492a8dc42b4ef9c0317
      created: 1640995200000
      modified: 1640995200000
      sortKey: -1640994900000
      description: ''
    children:
      - url: '{{ _.base_url }}/documents/process'
        name: Process PDF
        meta:
          id: req_0db68e3612894708a9533eb49b909a0c
          created: 1640995200000
          modified: 1640995200000
          isPrivate: false
          description: ''
          sortKey: -1640995200000
        method: POST
        body:
          mimeType: multipart/form-data
          params:
            - name: file
              value: ''
              description: ''
              type: file
        headers:
          - name: X-Category-Id
            value: '{{ _.category_id }}'
        authentication:
          type: bearer
          token: '{{ _.access_token }}'
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: '{{ _.base_url }}/documents/{{ _.document_id }}'
        name: Delete Document
        meta:
          id: req_2a63581e25a0400d94d83802957114a7
          created: 1640995200000
          modified: 1640995200000
          isPrivate: false
          description: ''
          sortKey: -1640995000000
        method: DELETE
        headers:
          - name: X-Category-Id
            value: '{{ _.category_id }}'
        authentication:
          type: bearer
          token: '{{ _.access_token }}'
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: '{{ _.base_url }}/documents/{{ _.category_id }}'
        name: Get Documents by Category
        meta:
          id: req_50c2d6e97bd940438c8e209a38fc99a6
          created: 1640995200000
          modified: 1640995200000
          isPrivate: false
          description: ''
          sortKey: -1640995100000
        method: GET
        authentication:
          type: bearer
          token: '{{ _.access_token }}'
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
  - name: Categories
    meta:
      id: fld_df518d5187d5476c891d0bbcb6cc9b22
      created: 1640995200000
      modified: 1640995200000
      sortKey: -1640995000000
      description: ''
    children:
      - url: '{{ _.base_url }}/categories/{{ _.category_id }}'
        name: Delete Category
        meta:
          id: req_8885080dca234000a7a1c5f0108dfd47
          created: 1640995200000
          modified: 1640995200000
          isPrivate: false
          description: ''
          sortKey: -1640994800000
        method: DELETE
        authentication:
          type: bearer
          token: '{{ _.access_token }}'
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: '{{ _.base_url }}/categories/{{ _.category_id }}'
        name: Get Category
        meta:
          id: req_9e64ef7a278449f98d0fdfafd502a8ce
          created: 1640995200000
          modified: 1640995200000
          isPrivate: false
          description: ''
          sortKey: -1640995000000
        method: GET
        authentication:
          type: bearer
          token: '{{ _.access_token }}'
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: '{{ _.base_url }}/categories'
        name: Create Category
        meta:
          id: req_b2d311541bff44599c573c530cc62685
          created: 1640995200000
          modified: 1756341801157
          isPrivate: false
          description: ''
          sortKey: -1640995100000
        method: POST
        body:
          mimeType: application/json
          text: |-
            {
              "name": "Nova Categoria",
              "description": "Descrição da categoria",
            	"iconName": "teste",
            	"color": "oioi"
            }
        headers:
          - name: Content-Type
            value: application/json
        authentication:
          type: bearer
          token: '{{ _.access_token }}'
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: '{{ _.base_url }}/categories'
        name: Get All Categories
        meta:
          id: req_cb613736147847d9860b5c1395531465
          created: 1640995200000
          modified: 1640995200000
          isPrivate: false
          description: ''
          sortKey: -1640995200000
        method: GET
        authentication:
          type: bearer
          token: '{{ _.access_token }}'
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: '{{ _.base_url }}/categories/{{ _.category_id }}'
        name: Update Category
        meta:
          id: req_e5308e207eff43aa9a39ce03b1971c2c
          created: 1640995200000
          modified: 1640995200000
          isPrivate: false
          description: ''
          sortKey: -1640994900000
        method: PUT
        body:
          mimeType: application/json
          text: |-
            {
              "name": "Categoria Atualizada",
              "description": "Nova descrição"
            }
        headers:
          - name: Content-Type
            value: application/json
        authentication:
          type: bearer
          token: '{{ _.access_token }}'
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
  - name: Search
    meta:
      id: fld_fcc55271820249c1986d726e6a552d4b
      created: 1640995200000
      modified: 1640995200000
      sortKey: -1640994800000
      description: ''
    children:
      - url: '{{ _.base_url }}/search/semantic'
        name: Semantic Search
        meta:
          id: req_2b31dfb7b09841b598b8e5cc59da3039
          created: 1640995200000
          modified: 1640995200000
          isPrivate: false
          description: ''
          sortKey: -1640995200000
        method: POST
        body:
          mimeType: application/json
          text: |-
            {
              "query": "buscar por",
              "limit": 10,
              "categoryId": "{{ _.category_id }}",
              "question": "Qual é a pergunta?",
              "withAi": true
            }
        headers:
          - name: Content-Type
            value: application/json
        authentication:
          type: bearer
          token: '{{ _.access_token }}'
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
cookieJar:
  name: Default Jar
  meta:
    id: jar_bedd134ef7969ee2e2a103f5dfb815eb62f92c67
    created: 1755484947833
    modified: 1756342359310
environments:
  name: Base Environment
  meta:
    id: env_14ecda6a2e844fcfbf4a973aad5e8279
    created: 1640995200000
    modified: 1756342359311
    isPrivate: false
  data:
    base_url: https://doc-i-backend-sd55w5k3ga-uc.a.run.app/doc-i
    access_token: eyJhbGciOiJSUzI1NiJ9.eyJpc3MiOiJkb2MtaSIsInN1YiI6ImJmNjMxZjQ1LTdmM2QtNDcyZC04YThiLTE4ZjJlYjc2YTZjYyIsImV4cCI6MTc1NjQyODc1OSwiaWF0IjoxNzU2MzQyMzU5LCJzY29wZSI6IkFETUlOIn0.S7q8eSUFaU-FlUth5Qjdz-vhwc0rmmorJnm4_XzC6YfQms0dC7y5HK-rNPvQifBey2Rp2aqLHTmaJeWZZahTrK3QJY_V7l9pAHCdxbr7hwPU897Zt5-9dkJ7_owaSBPr-fUpU-F0GD7htbMEbeA2_GqSPauZEbErWapjZIT_dSlxvT3kRmtn8X6S8jFDs5O7XtgKHDYbjbtuJPCSDQd3Q2zouIhh0Md5R1TLWd4N5th24SMm9mQl_vV9rEnsj9lXnUZFsEaIo_gCXGrF7WRH6AsIPTekpJuRSLq5KMOZbKBr6wB_luSafQ37wzzqX7YQTcNhe5nd1CXC1vfzKwZOmg
    category_id: ''
    document_id: ''
